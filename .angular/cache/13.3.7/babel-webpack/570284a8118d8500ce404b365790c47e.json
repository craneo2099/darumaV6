{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/providers/daruma-service/daruma.service\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\n\nfunction DetalleDarumaPage_img_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 23);\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r0.imgDaruma, i0.ɵɵsanitizeUrl);\n    i0.ɵɵpropertyInterpolate1(\"alt\", \"\", ctx_r0.altImg, \".webp\");\n  }\n}\n\nfunction DetalleDarumaPage_img_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 24);\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r1.imgDaruma, i0.ɵɵsanitizeUrl);\n    i0.ɵɵpropertyInterpolate1(\"alt\", \"\", ctx_r1.altImg, \".webp\");\n  }\n}\n\nfunction DetalleDarumaPage_img_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 23);\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r2.imgDaruma2, i0.ɵɵsanitizeUrl);\n    i0.ɵɵpropertyInterpolate1(\"alt\", \"\", ctx_r2.altImg2, \".webp\");\n  }\n}\n\nfunction DetalleDarumaPage_img_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 24);\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r3.imgDaruma2, i0.ɵɵsanitizeUrl);\n    i0.ɵɵpropertyInterpolate1(\"alt\", \"\", ctx_r3.altImg2, \".webp\");\n  }\n}\n\nfunction DetalleDarumaPage_ion_row_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-row\", 10)(1, \"ion-col\", 11)(2, \"ion-text\", 25)(3, \"h6\", 3)(4, \"b\");\n    i0.ɵɵtext(5, \"Fecha Fin:\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(6, \"ion-col\", 13)(7, \"h6\", 3);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"date\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(9, 1, ctx_r4.fechaFin, \"dd/MM/yyyy\"));\n  }\n}\n\nexport let DetalleDarumaPage = /*#__PURE__*/(() => {\n  class DetalleDarumaPage {\n    constructor(ds, loadingCtrl, alertCtrl, route, router) {\n      this.ds = ds;\n      this.loadingCtrl = loadingCtrl;\n      this.alertCtrl = alertCtrl;\n      this.route = route;\n      this.router = router;\n      this.isDisabled = false;\n      this.route.queryParams.subscribe(params => {\n        this.data = this.router.getCurrentNavigation().extras.state;\n        console.log(\"paramsDETAIL\", this.data.daruma);\n        this.nombre = this.data.daruma[\"nombre\"];\n        this.proposito = this.data.daruma[\"descripcion\"];\n        this.fechaIni = this.data.daruma[\"fechaInicio\"];\n        this.fechaFin = this.data.daruma[\"fechaCompletado\"];\n        this.estado = this.data.daruma[\"estado\"];\n        this.qrCode = this.data.daruma[\"qrcode\"];\n        this.token = this.data.token;\n        this.color = this.data.daruma[\"cveColor\"];\n\n        if (this.estado == 8) {\n          this.isDisabled = true;\n        }\n      });\n      this.darumas = [];\n    }\n\n    cambiarEstado() {\n      console.log(\"CambiarEstadoAA\", this.estado);\n      let sub = \"¿Haz cumplido tu proposito?\";\n      let mensaje = \"Si cambias a \\\"Completado\\\" tu Daruma ser\\u00E1 finalizado!\";\n\n      if (this.estado == 8) {\n        this.doAlertConfirm(\"¡Alerta!\", sub, mensaje);\n        this.fechaFin = Date.now();\n      }\n\n      if (this.estado == null) {\n        console.log(\"sin estado\");\n        this.estado = 6;\n        console.log(\"estadoSE \", this.estado);\n        this.doAlert(\"¡Atención!\", \"Selecciona un estatus para tu daruma\", \"\");\n      }\n    }\n\n    cancela() {\n      console.log(\"Regresa!!!\");\n      this.estado = 6;\n    }\n\n    doAlertConfirm(titulo, texto, mensaje) {\n      return __awaiter(this, void 0, void 0, function* () {\n        let alert = yield this.alertCtrl.create({\n          header: titulo,\n          subHeader: texto,\n          message: mensaje,\n          backdropDismiss: false,\n          buttons: [{\n            text: 'Regresar',\n            handler: () => {\n              this.cancela();\n            }\n          }, {\n            text: 'Ok',\n            handler: () => __awaiter(this, void 0, void 0, function* () {\n              this.loader = yield this.loadingCtrl.create();\n              yield this.loader.present();\n              this.ds.completarDaruma(this.qrCode, this.token).subscribe(res => {\n                // console.log(\"completadoo\", res);\n                // console.log(\"Estado \", this.estado);\n                this.isDisabled = true;\n              }, error => {\n                console.log(\"Error completarDaruma\", error);\n              }, () => __awaiter(this, void 0, void 0, function* () {\n                yield this.loader.dismiss();\n                this.doAlert(\"\\u00A1Felicidades!\", \"Lo haz conseguido\", \"\\u00A1El Daruma est\\u00E1 terminado!\");\n              }));\n            })\n          }]\n        });\n        yield alert.present();\n      });\n    }\n\n    doAlert(titulo, sub, mensaje) {\n      return __awaiter(this, void 0, void 0, function* () {\n        let alert = yield this.alertCtrl.create({\n          header: titulo,\n          subHeader: sub,\n          message: mensaje,\n          backdropDismiss: false,\n          buttons: ['Ok']\n        });\n        yield alert.present();\n      });\n    }\n\n    ngOnInit() {\n      let url = \"./../../../assets/imgs/colores/\";\n      console.log(\"integer \", this.estado);\n\n      if (this.color == \"AZ\") {\n        this.imgDaruma = url + \"Darumas_azul_2\" + \".webp\";\n        this.altImg = \"Darumas_azul_2\";\n        this.imgDaruma2 = url + \"Darumas_azul_3\" + \".webp\";\n        this.altImg2 = \"Darumas_azul_3\";\n      } else if (this.color == \"BL\") {\n        this.imgDaruma = url + \"Darumas_blanco_2\" + \".webp\";\n        this.altImg = \"Darumas_blanco_2\";\n        this.imgDaruma2 = url + \"Darumas_blanco_3\" + \".webp\";\n        this.altImg2 = \"Darumas_blanco_3\";\n      } else if (this.color == \"DO\") {\n        this.imgDaruma = url + \"Darumas_dorado_2\" + \".webp\";\n        this.altImg = \"Darumas_dorado_2\";\n        this.imgDaruma2 = url + \"Darumas_dorado_3\" + \".webp\";\n        this.altImg2 = \"Darumas_dorado_3\";\n      } else if (this.color == \"NA\") {\n        this.imgDaruma = url + \"Darumas_naranja_2\" + \".webp\";\n        this.altImg = \"Darumas_naranja_2\";\n        this.imgDaruma2 = url + \"Darumas_naranja_3\" + \".webp\";\n        this.altImg2 = \"Darumas_naranja_3\";\n      } else if (this.color == \"NE\") {\n        this.imgDaruma = url + \"Darumas_negro_2\" + \".webp\";\n        this.altImg = \"Darumas_negro_2\";\n        this.imgDaruma2 = url + \"Darumas_negro_3\" + \".webp\";\n        this.altImg2 = \"Darumas_negro_3\";\n      } else if (this.color == \"RS\") {\n        this.imgDaruma = url + \"Darumas_rosa_2\" + \".webp\";\n        this.altImg = \"Darumas_rosa_2\";\n        this.imgDaruma2 = url + \"Darumas_rosa_3\" + \".webp\";\n        this.altImg2 = \"Darumas_rosa_3\";\n      } else if (this.color == \"VE\") {\n        this.imgDaruma = url + \"Darumas_verde_2\" + \".webp\";\n        this.altImg = \"Darumas_verde_2\";\n        this.imgDaruma2 = url + \"Darumas_verde_3\" + \".webp\";\n        this.altImg2 = \"Darumas_verde_3\";\n      } else if (this.color == \"VI\") {\n        this.imgDaruma = url + \"Darumas_lila_2\" + \".webp\";\n        this.altImg = \"Darumas_lila_2\";\n        this.imgDaruma2 = url + \"Darumas_lila_3\" + \".webp\";\n        this.altImg2 = \"Darumas_lila_3\";\n      } else {\n        this.imgDaruma = url + \"Darumas_rojo_2\" + \".webp\";\n        this.altImg = \"Darumas_rojo_2\";\n        this.imgDaruma2 = url + \"Darumas_rojo_3\" + \".webp\";\n        this.altImg = \"Darumas_rojo_3\";\n      } //     if (this.color == \"AZ\") {\n      //   this.imgDaruma2 = url+\"Darumas_azul_3\"+\".webp\"\n      //   this.altImg2 = \"Darumas_azul_3\";\n      // } else if (this.color == \"BL\"){\n      //   this.imgDaruma2 = url+\"Darumas_blanco_3\"+\".webp\"\n      //   this.altImg2 = \"Darumas_blanco_3\";\n      // } else if (this.color == \"DO\"){\n      //   this.imgDaruma2 = url+\"Darumas_dorado_3\"+\".webp\"\n      //   this.altImg2 = \"Darumas_dorado_3\";\n      // } else if (this.color == \"NA\"){\n      //   this.imgDaruma2 = url+\"Darumas_naranja_3\"+\".webp\"\n      //   this.altImg2 = \"Darumas_naranja_3\";\n      // } else if (this.color == \"NE\"){\n      //   this.imgDaruma2 = url+\"Darumas_negro_3\"+\".webp\"\n      //   this.altImg2 = \"Darumas_negro_3\";\n      // } else if (this.color == \"RS\"){\n      //   this.imgDaruma2 = url+\"Darumas_rosa_3\"+\".webp\"\n      //   this.altImg2 = \"Darumas_rosa_3\";\n      // } else if (this.color == \"VE\"){\n      //   this.imgDaruma2 = url+\"Darumas_verde_3\"+\".webp\"\n      //   this.altImg2 = \"Darumas_verde_3\";\n      // } else if (this.color == \"VI\"){\n      //   this.imgDaruma2 = url+\"Darumas_lila_3\"+\".webp\"\n      //   this.altImg2 = \"Darumas_lila_3\";\n      // } else {\n      //   this.imgDaruma2 = url+\"Darumas_rojo_3\"+\".webp\"\n      //   this.altImg = \"Darumas_rojo_3\";\n      // }\n\n    }\n\n  }\n\n  DetalleDarumaPage.ɵfac = function DetalleDarumaPage_Factory(t) {\n    return new (t || DetalleDarumaPage)(i0.ɵɵdirectiveInject(i1.DarumaService), i0.ɵɵdirectiveInject(i2.LoadingController), i0.ɵɵdirectiveInject(i2.AlertController), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router));\n  };\n\n  DetalleDarumaPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DetalleDarumaPage,\n    selectors: [[\"app-detalle-daruma\"]],\n    decls: 60,\n    vars: 13,\n    consts: [[\"slot\", \"start\"], [1, \"colorFondo\", \"ion-padding\"], [\"color\", \"rosa\", 1, \"ion-text-center\"], [1, \"marginTopM\"], [1, \"ion-justify-content-center\", \"ion-padding-vertical\"], [\"size\", \"10\", \"Size-md\", \"6\", 1, \"ion-justify-content-center\"], [\"class\", \" noMostrarG\", 3, \"src\", \"alt\", 4, \"ngIf\"], [\"class\", \"noMostrarChico\", 3, \"src\", \"alt\", 4, \"ngIf\"], [1, \"ion-justify-content-center\"], [\"size\", \"12\", \"size-md\", \"8\"], [1, \"ion-no-padding\"], [\"size\", \"4\", 1, \"ion-no-padding\"], [\"color\", \"rosados\"], [\"size\", \"8\", 1, \"ion-no-padding\"], [\"color\", \"azul\"], [\"class\", \"ion-no-padding\", 4, \"ngIf\"], [1, \"ion-no-padding\", \"item-background-color\"], [\"slot\", \"end\", \"cancelText\", \"Cancelar\", 1, \"ion-align-self-start\", 3, \"ngModel\", \"disabled\", \"ngModelChange\", \"ionChange\"], [\"value\", \"6\"], [\"value\", \"8\"], [1, \"footerColor\", \"ion-no-border\"], [\"size\", \"12\"], [1, \"ion-text-center\"], [1, \"noMostrarG\", 3, \"src\", \"alt\"], [1, \"noMostrarChico\", 3, \"src\", \"alt\"], [\"color\", \"verde\"]],\n    template: function DetalleDarumaPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-buttons\", 0);\n        i0.ɵɵelement(3, \"ion-back-button\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"ion-title\");\n        i0.ɵɵtext(5, \"Detalle Daruma\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(6, \"ion-content\", 1)(7, \"ion-text\", 2)(8, \"h2\", 3)(9, \"b\");\n        i0.ɵɵtext(10);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(11, \"ion-row\", 4)(12, \"ion-col\", 5);\n        i0.ɵɵtemplate(13, DetalleDarumaPage_img_13_Template, 1, 2, \"img\", 6);\n        i0.ɵɵtemplate(14, DetalleDarumaPage_img_14_Template, 1, 2, \"img\", 7);\n        i0.ɵɵtemplate(15, DetalleDarumaPage_img_15_Template, 1, 2, \"img\", 6);\n        i0.ɵɵtemplate(16, DetalleDarumaPage_img_16_Template, 1, 2, \"img\", 7);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(17, \"ion-row\", 8)(18, \"ion-col\", 9)(19, \"ion-row\", 10)(20, \"ion-col\", 11)(21, \"ion-text\", 12)(22, \"h6\", 3)(23, \"b\");\n        i0.ɵɵtext(24, \"Prop\\u00F3sito: \");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(25, \"ion-col\", 13)(26, \"h6\", 3);\n        i0.ɵɵtext(27);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(28, \"ion-row\", 10)(29, \"ion-col\", 11)(30, \"ion-text\", 14)(31, \"h6\", 3)(32, \"b\");\n        i0.ɵɵtext(33, \"Fecha Inicio: \");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(34, \"ion-col\", 13)(35, \"h6\", 3);\n        i0.ɵɵtext(36);\n        i0.ɵɵpipe(37, \"date\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(38, DetalleDarumaPage_ion_row_38_Template, 10, 4, \"ion-row\", 15);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(39, \"ion-row\", 8)(40, \"ion-col\", 9)(41, \"ion-item\", 16)(42, \"ion-text\", 12)(43, \"ion-label\")(44, \"b\");\n        i0.ɵɵtext(45, \"Estatus: \");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(46, \"ion-select\", 17);\n        i0.ɵɵlistener(\"ngModelChange\", function DetalleDarumaPage_Template_ion_select_ngModelChange_46_listener($event) {\n          return ctx.estado = $event;\n        })(\"ionChange\", function DetalleDarumaPage_Template_ion_select_ionChange_46_listener() {\n          return ctx.cambiarEstado();\n        });\n        i0.ɵɵelementStart(47, \"ion-select-option\", 18);\n        i0.ɵɵtext(48, \"Activo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(49, \"ion-select-option\", 19);\n        i0.ɵɵtext(50, \"Completado\");\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelementStart(51, \"ion-footer\", 20)(52, \"ion-grid\", 10)(53, \"ion-row\")(54, \"ion-col\", 21)(55, \"div\", 22)(56, \"small\");\n        i0.ɵɵtext(57, \"Powered by \");\n        i0.ɵɵelementStart(58, \"b\");\n        i0.ɵɵtext(59, \"Devstar Novatech.\");\n        i0.ɵɵelementEnd()()()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(10);\n        i0.ɵɵtextInterpolate(ctx.nombre);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.estado == 6);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.estado == 6);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.estado == 8);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.estado == 8);\n        i0.ɵɵadvance(11);\n        i0.ɵɵtextInterpolate(ctx.proposito);\n        i0.ɵɵadvance(9);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(37, 10, ctx.fechaIni, \"dd/MM/yyyy\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.estado == 8);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngModel\", ctx.estado)(\"disabled\", ctx.isDisabled);\n      }\n    },\n    directives: [i2.IonHeader, i2.IonToolbar, i2.IonButtons, i2.IonBackButton, i2.IonBackButtonDelegate, i2.IonTitle, i2.IonContent, i2.IonText, i2.IonRow, i2.IonCol, i4.NgIf, i2.IonItem, i2.IonLabel, i2.IonSelect, i2.SelectValueAccessor, i5.NgControlStatus, i5.NgModel, i2.IonSelectOption, i2.IonFooter, i2.IonGrid],\n    pipes: [i4.DatePipe],\n    styles: [\"\"]\n  });\n  return DetalleDarumaPage;\n})();","map":null,"metadata":{},"sourceType":"module"}